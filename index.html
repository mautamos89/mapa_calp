<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <script type="text/javascript">
        document.title = "Mapa de rutas CALP | IMPACT-REACH";
    </script>

    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_8085382ecc559a57f82567bd58766112 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumpopup {
                            margin: auto;
                        }
                       .foliumpopup table{
                            margin: auto;
                        }
                        .foliumpopup tr{
                            text-align: left;
                        }
                        .foliumpopup th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    <script src="https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.66.2/L.Control.Locate.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.66.2/L.Control.Locate.min.css"/>
    <script src="https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-search@2.9.7/dist/leaflet-search.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-search@2.9.7/dist/leaflet-search.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.css"/>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-tag-filter-button/src/leaflet-tag-filter-button.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-tag-filter-button/src/leaflet-tag-filter-button.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/css-ripple-effect@1.0.5/dist/ripple.min.css"/>
    
            <style>
                .easy-button-button {
                  display: block !important;
                }

                .tag-filter-tags-container {
                  left: 30px;
                }
            </style>
        
</head>
<body>
    
    
<div style="position: fixed;
     top: 10px; left: 50px; width: 382px; height: 23px;
     border:2px solid grey; z-index:9999; font-size:12px;
     background-color:white; opacity: 0.75;">
     &nbsp; <b>Mapa de rutas identificadas en proyecto CALP | IMPACT-REACH</b><br>
</div>
    
            <div class="folium-map" id="map_8085382ecc559a57f82567bd58766112" ></div>
        
    

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Draggable - Default functionality</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  
  <script>
  $( function() {
    $( "#maplegend" ).draggable({
                    start: function (event, ui) {
                        $(this).css({
                            right: "auto",
                            top: "auto",
                            bottom: "auto"
                        });
                    }
                });
});

  </script>
</head>
<body>

<div id='maplegend' class='maplegend' 
    style='position: absolute; z-index:9999; border:2px solid grey; background-color:rgba(255, 255, 255, 0.7);
     border-radius:2px; padding: 5px; font-size:14px; left: 5px; bottom: 40px;'>
 
<div class='my-legend'>
<div class='legend-title'>Leyenda</div>
<div class='legend-header'>Riesgos identificados:</div>
<div class='legend-scale'>
  <ul class='legend-labels'>
    <li><span style='background:#bdd7e7;'></span>1-5 [1]</li>
    <li><span style='background:#6baed6;'></span>5-9 [2]</li>
    <li><span style='background:#08519c;'></span>10-11 [1]</li>
  </ul>
</div>
<div class='legend-vertical'>
  <ul class='legend-vertical-labels'>
    <li><span style='background:#A4303F;'></span>Ruta identificada</li>
  </ul>
</div>
</div>

<style type='text/css'>
  .my-legend .legend-title {
    text-align: center;
    margin-bottom: 3px;
    font-weight: bold;
    font-size: 80%;
    }
  .my-legend .legend-header {
    text-align: left;
    margin-bottom: 1px;
    font-size: 80%;
    }
  .my-legend .legend-scale ul {
    margin: 0;
    padding: 0;
    float: left;
    list-style: none;
    }
  .my-legend .legend-scale ul li {
    display: block;
    float: left;
    width: 50px;
    margin-bottom: 2px;
    text-align: center;
    font-size: 80%;
    list-style: none;
    }
  .my-legend ul.legend-labels li span {
    display: block;
    float: left;
    height: 15px;
    width: 50px;
    }
    .my-legend .legend-vertical ul {
    margin: 0;
    margin-bottom: 2px;
    margin-right: 0px;
    margin-left: 0px;
    padding: 0;
    float: left;
    list-style: none;
    }
  .my-legend .legend-vertical ul li {
    font-size: 80%;
    list-style: none;
    margin-left: 0px;
    margin-right: 0px;
    line-height: 18px;
    margin-bottom: 2px;
    }
  .my-legend ul.legend-vertical-labels li span {
    display: block;
    float: right;
    height: 16px;
    width: 16px;
    margin-right: 5px;
    margin-left: 5px;
    margin-bottom: 2px;
    }
</style>
</body>
<script>
    
    
            var map_8085382ecc559a57f82567bd58766112 = L.map(
                "map_8085382ecc559a57f82567bd58766112",
                {
                    center: [-6.5, -80.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 7,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_8085382ecc559a57f82567bd58766112);

            

        
    
            var tile_layer_52cb72e5f251c49e6b273e6fe64f87c5 = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {"attribution": "OSM \u0026copy; | Autor: \u003ca href=\"https://github.com/mautamos89\" target=\"_blank\"\u003eMTM-COL\u003c/a\u003e", "detectRetina": false, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_52cb72e5f251c49e6b273e6fe64f87c5.addTo(map_8085382ecc559a57f82567bd58766112);
        
    
            var tile_layer_bdbfd2daaec6f4971d1c6be2ee39a61f = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "OSM \u0026copy; | Autor: \u003ca href=\"https://github.com/mautamos89\" target=\"_blank\"\u003eMTM-COL\u003c/a\u003e", "detectRetina": false, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            var tile_layer_b9725d0b675d0c82a9ef6187530665ae = L.tileLayer(
                "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
                {"attribution": "Esri \u0026copy; | Autor: \u003ca href=\"https://github.com/mautamos89\" target=\"_blank\"\u003eMTM-COL\u003c/a\u003e", "detectRetina": false, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            var tile_layer_6e12b71268eaa3ed5738cb6b4841ee3f = L.tileLayer(
                "https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}",
                {"attribution": "Google \u0026copy; | Autor: \u003ca href=\"https://github.com/mautamos89\" target=\"_blank\"\u003eMTM-COL\u003c/a\u003e", "detectRetina": false, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            var feature_group_5d089ad93e6d8e3e14277c2a3276b4ae = L.featureGroup(
                {}
            );
        
    
        function geo_json_cc007a6c349f9d4220b414f3d535b734_styler(feature) {
            switch(feature.properties.provincia) {
                case "La Libertad": case "Piura": 
                    return {"color": "black", "fill": true, "fillColor": "#6baed6", "fillOpacity": 0.5, "weight": 0.2};
                case "Lambayeque": 
                    return {"color": "black", "fill": true, "fillColor": "#bdd7e7", "fillOpacity": 0.5, "weight": 0.2};
                default:
                    return {"color": "black", "fill": true, "fillColor": "#08519c", "fillOpacity": 0.5, "weight": 0.2};
            }
        }
        function geo_json_cc007a6c349f9d4220b414f3d535b734_highlighter(feature) {
            switch(feature.properties.provincia) {
                default:
                    return {"fillColor": "#fff998"};
            }
        }

        function geo_json_cc007a6c349f9d4220b414f3d535b734_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === "function"){
                        if (!e.target.isPopupOpen())
                            geo_json_cc007a6c349f9d4220b414f3d535b734.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === "function"){
                        const highlightStyle = geo_json_cc007a6c349f9d4220b414f3d535b734_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
                popupopen: function(e) {
                    if(typeof e.target.setStyle === "function"){
                        const highlightStyle = geo_json_cc007a6c349f9d4220b414f3d535b734_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                        e.target.bindPopup(e.popup)
                    }
                },
                popupclose: function(e) {
                    if(typeof e.target.setStyle === "function"){
                        geo_json_cc007a6c349f9d4220b414f3d535b734.resetStyle(e.target);
                        e.target.unbindPopup()
                    }
                },
            });
        };
        var geo_json_cc007a6c349f9d4220b414f3d535b734 = L.geoJson(null, {
                smoothFactor: 1.66,
                onEachFeature: geo_json_cc007a6c349f9d4220b414f3d535b734_onEachFeature,
            
                style: geo_json_cc007a6c349f9d4220b414f3d535b734_styler,
        });

        function geo_json_cc007a6c349f9d4220b414f3d535b734_add (data) {
            geo_json_cc007a6c349f9d4220b414f3d535b734
                .addData(data);
        }
            $.ajax("https://raw.githubusercontent.com/mautamos89/mapa_web_calp/main/peru_adm1.geojson", {dataType: 'json', async: false})
                .done(geo_json_cc007a6c349f9d4220b414f3d535b734_add);

        
    
    geo_json_cc007a6c349f9d4220b414f3d535b734.bindPopup(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["provincia", "mapa2"];
    let aliases = ["Departamento:", "Riesgos identificados:"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i].toLocaleString()}</th>
            
            <td>${handleObject(layer.feature.properties[v]).toLocaleString()}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{"className": "foliumpopup"});
                     
    
            geo_json_cc007a6c349f9d4220b414f3d535b734.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
    
        function geo_json_60a2169d5f513bf5ec6f1ada46aef572_styler(feature) {
            switch(feature.properties.municipio) {
                case "Paita": case "Sullana": case "Talara": case "Contralmirante Villar": 
                    return {"color": "#A4303F", "fillcolor": "#A4303F", "tags": ["A2"], "weight": 4};
                case "Lambayeque": case "Morrop\u00f3n": case "Piura": 
                    return {"color": "#A4303F", "fillcolor": "#A4303F", "tags": ["A3"], "weight": 4};
                case "Ascope": case "Chep\u00e9n": case "Pacasmayo": case "Trujillo": case "Chiclayo": 
                    return {"color": "#A4303F", "fillcolor": "#A4303F", "tags": ["A4"], "weight": 4};
                default:
                    return {"color": "#A4303F", "fillcolor": "#A4303F", "tags": ["A1"], "weight": 4};
            }
        }

        function geo_json_60a2169d5f513bf5ec6f1ada46aef572_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_60a2169d5f513bf5ec6f1ada46aef572 = L.geoJson(null, {
                onEachFeature: geo_json_60a2169d5f513bf5ec6f1ada46aef572_onEachFeature,
            
                style: geo_json_60a2169d5f513bf5ec6f1ada46aef572_styler,
        });

        function geo_json_60a2169d5f513bf5ec6f1ada46aef572_add (data) {
            geo_json_60a2169d5f513bf5ec6f1ada46aef572
                .addData(data);
        }
            geo_json_60a2169d5f513bf5ec6f1ada46aef572_add({"crs": {"properties": {"name": "urn:ogc:def:crs:OGC:1.3:CRS84"}, "type": "name"}, "features": [{"geometry": {"coordinates": [[-80.3728970579528, -3.515290739376098], [-80.39001740407991, -3.523850911989939], [-80.40239067069285, -3.515602067581312], [-80.41063951510148, -3.527975334194252], [-80.42713720391879, -3.532099756398566], [-80.4312616261231, -3.544473023910882], [-80.46013258155335, -3.556846290523822], [-80.46013690189648, -3.556852770139187], [-80.4683814268613, -3.569219557136819], [-80.4807546934743, -3.577468401545445], [-80.51375007110886, -3.606339356975695], [-80.55499429315205, -3.626961467997319], [-80.57746115021189, -3.632578182037435], [-80.58798967078661, -3.635210312405945], [-80.58830661435871, -3.635590644692456], [-80.60446787938906, -3.654984162189294]], "type": "LineString"}, "properties": {"IdRuta": "A1", "clave": "A1", "municipio": "Tumbes", "provincia": "Tumbes"}, "type": "Feature"}, {"geometry": {"coordinates": [[-80.2580358935416, -3.503228800968316], [-80.29103127117617, -3.503228800968316], [-80.30752895999348, -3.503228800968316], [-80.34877318203667, -3.503228800968316], [-80.3728970579528, -3.515290739376098]], "type": "LineString"}, "properties": {"IdRuta": "A1", "clave": "A1", "municipio": "Zarumilla", "provincia": "Tumbes"}, "type": "Feature"}, {"geometry": {"coordinates": [[-80.93127059586129, -4.817045334774321], [-80.96331209227918, -4.78179968880454], [-80.97634474541366, -4.773111253081822]], "type": "LineString"}, "properties": {"IdRuta": "A2", "clave": "A2", "municipio": "Paita", "provincia": "Piura"}, "type": "Feature"}, {"geometry": {"coordinates": [[-80.68697580369036, -5.019047653326481], [-80.68697580369036, -4.975647532407663], [-80.7117223369163, -4.905532354934167], [-80.6993490703033, -4.901407932729853], [-80.69110022589467, -4.889034666116913], [-80.73234444793786, -4.88078582170823], [-80.77771309308474, -4.88078582170823], [-80.80658404851499, -4.86841255509529], [-80.83957942614956, -4.864288132890977], [-80.88082364819275, -4.847790444073667], [-80.90557018141868, -4.831292755256413], [-80.92206787023599, -4.8271683330521], [-80.93127059586129, -4.817045334774321]], "type": "LineString"}, "properties": {"IdRuta": "A2", "clave": "A2", "municipio": "Sullana", "provincia": "Piura"}, "type": "Feature"}, {"geometry": {"coordinates": [[-80.97634474541366, -4.773111253081822], [-81.00043189211812, -4.757053155578603], [-81.01280515873106, -4.75292873337429], [-81.02930284754837, -4.728182199249034], [-81.04992495856993, -4.707560088227467], [-81.0787959148995, -4.691062399410157], [-81.09529360371681, -4.68281355500153], [-81.11591571473838, -4.66631586618422], [-81.12828898135137, -4.658067021775594], [-81.15303551457731, -4.641569332958284], [-81.17365762559888, -4.62507164414103], [-81.19015531441619, -4.616822799732347], [-81.24377280307237, -4.60857395532372], [-81.26027049188963, -4.600325110915094], [-81.264394914094, -4.587951844302154], [-81.26027049188963, -4.559080888871904], [-81.252021647481, -4.546707622258907], [-81.252021647481, -4.447721489355217], [-81.24377280307237, -4.414726110821334], [-81.24789722527669, -4.352859777756464], [-81.24377280307237, -4.307491133508961], [-81.21490184764212, -4.262122489261401], [-81.21077742543781, -4.253873644852774], [-81.18603089221187, -4.237375956035521], [-81.17543128922256, -4.216176749157626], [-81.16540878119025, -4.196131733992274], [-81.15792647482692, -4.196131733992274], [-81.148911092373, -4.196131733992274], [-81.12416455914706, -4.179634045175021], [-81.09941802592112, -4.159011934153398], [-81.09941802592112, -4.130140977823828], [-81.07467149269519, -4.113643289006518], [-81.06229822608225, -4.109518866802205], [-81.05716363589306, -4.106095806975873], [-81.04957817819036, -4.101038835473844], [-81.03816648739343, -4.093431041309486]], "type": "LineString"}, "properties": {"IdRuta": "A2", "clave": "A2", "municipio": "Talara", "provincia": "Piura"}, "type": "Feature"}, {"geometry": {"coordinates": [[[-81.01074096822106, -4.041452047274106], [-81.01280515873106, -4.055901378146018], [-81.025178425344, -4.084772333576268], [-81.03755169195699, -4.093021177984951], [-81.03811105677983, -4.093394087267257]], [[-80.94681440346193, -3.948666400833702], [-80.95918767007487, -3.952790823038015], [-80.96124081151419, -3.957239296156558], [-80.9839342033008, -4.006408311694202], [-80.9990807524747, -4.013981586281147], [-81.00043189211812, -4.014657156102828], [-81.00868073652674, -4.027030422715768], [-81.01065824048538, -4.041331973391834]], [[-80.84297905414002, -3.882201076018816], [-80.84782827055818, -3.899173334381828], [-80.86020153717118, -3.911546600994768], [-80.87257480378412, -3.911546600994768], [-80.91794344803168, -3.936293134220705], [-80.93031671464462, -3.948666400833702], [-80.94670164736311, -3.948666400833702]], [[-80.60446787938906, -3.654984162189294], [-80.60861178180824, -3.659956845631882], [-80.62769609979512, -3.663137565146485], [-80.65323497261585, -3.667394043800016], [-80.65851226452935, -3.668273592452294], [-80.68285138148605, -3.672330112244822], [-80.68584932638527, -3.681323946942541], [-80.68697580369036, -3.684703378857819], [-80.70759791471198, -3.705325489879385], [-80.74884213675517, -3.725947600901009], [-80.76121540426743, -3.734196445309635], [-80.77771309308474, -3.763067400739885], [-80.80825815089293, -3.789794326546883], [-80.81070846981999, -3.791938357069455], [-80.8107084707193, -3.795211754418858], [-80.8107084707193, -3.804311622783132], [-80.82881465007603, -3.837937384702514], [-80.83957942525024, -3.857929112338638], [-80.83957942525024, -3.870302378951578], [-80.8429184002639, -3.882081989592109]]], "type": "MultiLineString"}, "properties": {"IdRuta": "A2", "clave": "A2", "municipio": "Contralmirante Villar", "provincia": "Tumbes"}, "type": "Feature"}, {"geometry": {"coordinates": [[-79.89732482927741, -6.746961246464309], [-79.91158442747928, -6.736775819048773], [-79.91570884968365, -6.707904863618523], [-79.90746000527497, -6.666660641575277], [-79.90746000527497, -6.654287374962337], [-79.89921116086634, -6.641914108349397], [-79.8868378942534, -6.584172197488897], [-79.88271347204903, -6.5717989308759], [-79.8744646276404, -6.51405701911608], [-79.8703402054361, -6.501683752503141], [-79.84971809351515, -6.476937219277204], [-79.85384251571946, -6.460439530459894], [-79.83734482690221, -6.419195308416704], [-79.84146924910652, -6.390324352986454], [-79.82909598249358, -6.344955708738894], [-79.8208471380849, -6.316084753308644], [-79.80847387147196, -6.303711486695704], [-79.80434944926765, -6.274840531265454], [-79.79197618265465, -6.266591686856827], [-79.7754784938374, -6.266591686856827], [-79.73835869399846, -6.217098619505634], [-79.73010984958984, -6.188227664075384], [-79.72186100518121, -6.146983442032194], [-79.73423427179415, -6.122236908806258], [-79.72598542738552, -6.093365953376008], [-79.73423427179415, -6.080992686763011], [-79.72598542738552, -6.052121731332761], [-79.71361216077258, -6.039748464719821], [-79.69711447195527, -5.998504242676631], [-79.70948773856821, -5.990255398267948], [-79.74248311620283, -5.994379820472318], [-79.7631052272244, -5.973757709450695], [-79.76722964942871, -5.949011176224758], [-79.7631052272244, -5.932513487407448], [-79.77135407163308, -5.891269264464938], [-79.7754784938374, -5.833527353604438], [-79.78372733824602, -5.788158709356878], [-79.80022502706333, -5.767536598335312], [-79.82909598249358, -5.726292376292065], [-79.83734482690221, -5.697421420861815], [-79.84146924910652, -5.668550465431565], [-79.84971809351515, -5.652052776614312], [-79.89096231645772, -5.606684131467432], [-79.90746000527497, -5.598435287058805], [-79.94045538290953, -5.569564331628555], [-79.94870422731822, -5.557191065015616], [-79.9445798051139, -5.528320109585366], [-79.94877635024835, -5.522025291434034]], "type": "LineString"}, "properties": {"IdRuta": "A3", "clave": "A3", "municipio": "Lambayeque", "provincia": "Lambayeque"}, "type": "Feature"}, {"geometry": {"coordinates": [[-79.94877635024835, -5.522025291434034], [-79.97757518274847, -5.478827043133492], [-80.01057056038303, -5.449956087703242], [-80.01057056038303, -5.421085132272992], [-80.0311926714046, -5.379840910229802], [-80.0435659380176, -5.322098998469983], [-80.06418804903922, -5.284979198631049], [-80.07656131565216, -5.276730354222423], [-80.12192995989972, -5.231361709974863], [-80.13017880430834, -5.218988443361923], [-80.15080091532997, -5.202490754544613], [-80.17554744945517, -5.185993065727359], [-80.19204513827248, -5.185993065727359], [-80.21679167149841, -5.169495376910049], [-80.22916493811135, -5.173619799114363], [-80.26628473795029, -5.165370954705736], [-80.27865800456323, -5.169495376910049], [-80.32402664881073, -5.161246532501423], [-80.33639991542373, -5.152997688092796], [-80.35038065004693, -5.154745280370321]], "type": "LineString"}, "properties": {"IdRuta": "A3", "clave": "A3", "municipio": "Morrop\u00f3n", "provincia": "Piura"}, "type": "Feature"}, {"geometry": {"coordinates": [[-80.35038065004693, -5.154745280370321], [-80.36939529305829, -5.157122110297109], [-80.38176855967123, -5.152997688092796], [-80.39414182628423, -5.161246532501423], [-80.45188373714473, -5.173619799114363], [-80.47313687186909, -5.168306515433301], [-80.48487911567861, -5.165370954705736], [-80.50962564890455, -5.181868643523046], [-80.53437218213048, -5.190117487931673], [-80.55086987094774, -5.190117487931673], [-80.58798967078661, -5.214864021157609], [-80.62923389282986, -5.206615176748983], [-80.6416071594428, -5.198366332340299], [-80.6539804260558, -5.169495376910049], [-80.67872695928173, -5.14474884368417], [-80.68285138148605, -5.132375577071173], [-80.67872695928173, -5.103504621640923], [-80.68697580369036, -5.074633666210673], [-80.69110022589467, -5.045762710780423], [-80.68697580369036, -5.033389444167483], [-80.68697580369036, -5.019047653326481]], "type": "LineString"}, "properties": {"IdRuta": "A3", "clave": "A3", "municipio": "Piura", "provincia": "Piura"}, "type": "Feature"}, {"geometry": {"coordinates": [[-79.39430808954666, -7.602498104403935], [-79.38365838352752, -7.615277751267172], [-79.36303627250595, -7.656521973310362], [-79.35066300589295, -7.668895239923359], [-79.3341653170757, -7.693641773149238], [-79.32591647266702, -7.722512729478808], [-79.30941878384976, -7.751383684909058], [-79.28879667282814, -7.772005795930681], [-79.25992571649857, -7.784379062543678], [-79.23517918327263, -7.780254640339308], [-79.21868149445538, -7.784379062543678], [-79.20218380563807, -7.800876751360931], [-79.1650640057992, -7.846245395608491], [-79.14444189477757, -7.854494240017118], [-79.12794420596032, -7.875116351038741], [-79.11969536155163, -7.932858261899241], [-79.09494882832576, -7.982351328351058], [-79.09317705777494, -7.983237213626467]], "type": "LineString"}, "properties": {"IdRuta": "A4", "clave": "A4", "municipio": "Ascope", "provincia": "La Libertad"}, "type": "Feature"}, {"geometry": {"coordinates": [[-79.59037794568559, -7.070106341934093], [-79.5898794946429, -7.070854018498096], [-79.5651329605177, -7.09147612951972], [-79.53626200508745, -7.09147612951972], [-79.52388873847445, -7.103849396132659], [-79.48264451643126, -7.112098241440663], [-79.45377356100101, -7.124471508053603], [-79.44140029438802, -7.132720352462229], [-79.4372758721837, -7.165715730096792], [-79.42902702777508, -7.178088996709789], [-79.42490260557076, -7.215208796548666], [-79.45789798320533, -7.219333218752979], [-79.46324564796822, -7.223611350383464]], "type": "LineString"}, "properties": {"IdRuta": "A4", "clave": "A4", "municipio": "Chep\u00e9n", "provincia": "La Libertad"}, "type": "Feature"}, {"geometry": {"coordinates": [[[-79.57778497020018, -7.407226714940919], [-79.57804173473824, -7.407440685239408], [-79.58407218548291, -7.41246606085997], [-79.58855531397654, -7.416202001121405], [-79.58987949374358, -7.417305485459735], [-79.58849539754453, -7.417536167859794], [-79.51563989406583, -7.429678752072675], [-79.50326662745283, -7.458549707502925], [-79.4950177830442, -7.487420662933175], [-79.47852009422695, -7.512167196159112], [-79.44552471659233, -7.545162573793675], [-79.43315144997939, -7.553411418202359], [-79.40428049454914, -7.590531218041235], [-79.39430808954666, -7.602498104403935]], [[-79.46324564796822, -7.223611350383464], [-79.47852009422695, -7.235830907570289], [-79.48676893863558, -7.248204174183229], [-79.47439567202258, -7.305946085043729], [-79.48264451643126, -7.318319351656726], [-79.4950177830442, -7.347190307086976], [-79.52388873847445, -7.380185684721539], [-79.5651329605177, -7.396683373538792], [-79.57777191204406, -7.407215833144164]]], "type": "MultiLineString"}, "properties": {"IdRuta": "A4", "clave": "A4", "municipio": "Pacasmayo", "provincia": "La Libertad"}, "type": "Feature"}, {"geometry": {"coordinates": [[-79.09317705777494, -7.983237213626467], [-79.07845113950845, -7.990600172759741], [-79.0660778728955, -8.01534670688494], [-79.06195345069114, -8.048342084519561], [-79.0495801840782, -8.077213039949811], [-79.03308249526089, -8.118457261993]], "type": "LineString"}, "properties": {"IdRuta": "A4", "clave": "A4", "municipio": "Trujillo", "provincia": "La Libertad"}, "type": "Feature"}, {"geometry": {"coordinates": [[-79.89732482927741, -6.746961246464309], [-79.85384251571946, -6.778020041091963], [-79.85796693792383, -6.794517729909273], [-79.84559367131084, -6.835761952851783], [-79.8332204046979, -6.84813521946478], [-79.82497156028921, -6.87700617489503], [-79.80434944926765, -6.897628285916596], [-79.80434944926765, -6.914125974733906], [-79.79610060485896, -6.926499241346846], [-79.75073196061146, -6.93474808575553], [-79.70948773856821, -6.94712135236847], [-79.69711447195527, -6.94712135236847], [-79.66411909432071, -6.980116730003033], [-79.65174582770777, -6.984241152207346], [-79.62699929448183, -7.00486326322897], [-79.61050160566452, -7.029609796454906], [-79.60637718346021, -7.046107485272159], [-79.59037794568559, -7.070106341934093]], "type": "LineString"}, "properties": {"IdRuta": "A4", "clave": "A4", "municipio": "Chiclayo", "provincia": "Lambayeque"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_60a2169d5f513bf5ec6f1ada46aef572.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["IdRuta", "provincia", "municipio"];
    let aliases = ["Ruta:", "Departamento:", "Municipio:"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i].toLocaleString()}</th>
            
            <td>${handleObject(layer.feature.properties[v]).toLocaleString()}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{"className": "foliumtooltip", "sticky": true});
                     
    
            geo_json_60a2169d5f513bf5ec6f1ada46aef572.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
    
            feature_group_5d089ad93e6d8e3e14277c2a3276b4ae.addTo(map_8085382ecc559a57f82567bd58766112);
        
    
            geo_json_cc007a6c349f9d4220b414f3d535b734.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
    
            geo_json_60a2169d5f513bf5ec6f1ada46aef572.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
    
            L.control.fullscreen(
                {"forceSeparateButton": false, "position": "topleft", "title": "Pantalla completa", "titleCancel": "Exit Full Screen"}
            ).addTo(map_8085382ecc559a57f82567bd58766112);
        
    
            var locate_control_6ef8304f7a436acc0946f47eb32f9052 = L.control.locate(
                {"forceSeparateButton": false, "position": "topleft"}
            ).addTo(map_8085382ecc559a57f82567bd58766112);
            
        
    
            var mouse_position_7bd12406057478452d876c3a3e58cbc0 = new L.Control.MousePosition(
                {"emptyString": "Coordenadas", "lngFirst": false, "numDigits": 5, "position": "topright", "prefix": "Latitud:", "separator": " | Longitud: "}
            );
            mouse_position_7bd12406057478452d876c3a3e58cbc0.options["latFormatter"] =
                function(num) {return L.Util.formatNum(num, 3) + 'º ';};;
            mouse_position_7bd12406057478452d876c3a3e58cbc0.options["lngFormatter"] =
                function(num) {return L.Util.formatNum(num, 3) + 'º ';};;
            map_8085382ecc559a57f82567bd58766112.addControl(mouse_position_7bd12406057478452d876c3a3e58cbc0);
        
    
            var feature_group_5d089ad93e6d8e3e14277c2a3276b4aesearchControl = new L.Control.Search({
                layer: feature_group_5d089ad93e6d8e3e14277c2a3276b4ae,
                
                propertyName: 'clave',
                
                collapsed: true,
                textPlaceholder: 'Municipio / IdRuta',
                position:'topleft',
            
                marker: false,
                moveToLocation: function(latlng, title, map) {
                var zoom =  map.getBoundsZoom(latlng.layer.getBounds()) 
                    map.flyTo(latlng, zoom); // access the zoom
                }
            
                });
                feature_group_5d089ad93e6d8e3e14277c2a3276b4aesearchControl.on('search:locationfound', function(e) {
                    feature_group_5d089ad93e6d8e3e14277c2a3276b4ae.setStyle(function(feature){
                        return feature.properties.style
                    })
                    
                    if(e.layer._popup)
                        e.layer.openPopup();
                })
                feature_group_5d089ad93e6d8e3e14277c2a3276b4aesearchControl.on('search:collapsed', function(e) {
                        feature_group_5d089ad93e6d8e3e14277c2a3276b4ae.setStyle(function(feature){
                            return feature.properties.style
                    });
                });
            map_8085382ecc559a57f82567bd58766112.addControl( feature_group_5d089ad93e6d8e3e14277c2a3276b4aesearchControl );

        
    
            var tile_layer_7e9dbda4c98ea22996f77efacd901dcf = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e", "detectRetina": false, "maxNativeZoom": 20, "maxZoom": 20, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abcd", "tms": false}
            );
            var mini_map_ecee6368ce4d75fea9f74fd1dc5e5466 = new L.Control.MiniMap(
                tile_layer_7e9dbda4c98ea22996f77efacd901dcf,
                {"autoToggleDisplay": false, "centerFixed": false, "collapsedHeight": 25, "collapsedWidth": 25, "height": 150, "minimized": false, "position": "bottomright", "toggleDisplay": true, "width": 150, "zoomAnimation": false, "zoomLevelOffset": -5}
            );
            map_8085382ecc559a57f82567bd58766112.addControl(mini_map_ecee6368ce4d75fea9f74fd1dc5e5466);
        
    
            var tag_filter_button_e3343aa50d2a36ed06511e0dfbe58289 = L.control.tagFilterButton(
                {"clearText": "Borrar filtro", "data": ["A1", "A2", "A3", "A4"], "filterOnEveryClick": true, "icon": "\u003ci class=\"fa fa-filter\"\u003e\u003c/i\u003e", "openPopupOnHover": true}
            ).addTo(map_8085382ecc559a57f82567bd58766112);
        
    
            map_8085382ecc559a57f82567bd58766112.fitBounds(
                [[-8.118457261993, -81.264394914094], [-3.503228800968316, -79.03308249526089]],
                {}
            );
        
    
            var layer_control_c148d1dac58086ad0515d1c295d8f3d4_layers = {
                base_layers : {
                    "CartoDB Positron" : tile_layer_52cb72e5f251c49e6b273e6fe64f87c5,
                    "Open Street Map" : tile_layer_bdbfd2daaec6f4971d1c6be2ee39a61f,
                    "Esri Satellite" : tile_layer_b9725d0b675d0c82a9ef6187530665ae,
                    "Google Hybrid" : tile_layer_6e12b71268eaa3ed5738cb6b4841ee3f,
                },
                overlays :  {
                    "Nivel administrativo 1" : geo_json_cc007a6c349f9d4220b414f3d535b734,
                    "Rutas identificadas" : geo_json_60a2169d5f513bf5ec6f1ada46aef572,
                },
            };
            let layer_control_c148d1dac58086ad0515d1c295d8f3d4 = L.control.layers(
                layer_control_c148d1dac58086ad0515d1c295d8f3d4_layers.base_layers,
                layer_control_c148d1dac58086ad0515d1c295d8f3d4_layers.overlays,
                {"autoZIndex": true, "collapsed": true, "position": "topright"}
            ).addTo(map_8085382ecc559a57f82567bd58766112);

        
    
            tile_layer_52cb72e5f251c49e6b273e6fe64f87c5.addTo(map_8085382ecc559a57f82567bd58766112);
        
    
            geo_json_cc007a6c349f9d4220b414f3d535b734.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
    
            geo_json_60a2169d5f513bf5ec6f1ada46aef572.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
    
            feature_group_5d089ad93e6d8e3e14277c2a3276b4ae.addTo(map_8085382ecc559a57f82567bd58766112);
        
    
            geo_json_cc007a6c349f9d4220b414f3d535b734.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
    
            geo_json_60a2169d5f513bf5ec6f1ada46aef572.addTo(feature_group_5d089ad93e6d8e3e14277c2a3276b4ae);
        
</script>
</html>